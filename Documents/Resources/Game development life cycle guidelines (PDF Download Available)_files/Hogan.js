'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */var Hogan={};/*eslint-disable */(function(Hogan){Hogan.Template=function(renderFunc,text,compiler,options){this.r=renderFunc||this.r;this.c=compiler;this.options=options;this.text=text||'';this.buf='';this.bufBak=[];};var rAmp=/&/g,rLt=/</g,rGt=/>/g,rApos=/'/g,rQuot=/"/g,rE=/a/g,hChars=/[&<>"'a]/,escE='____101____',reEscE=/____101____/g,rMarker=/^<noscript><\/noscript>/;var hoganWidgetEscape=function hoganWidgetEscape(val){var stringVal=coerceToString(val);// subwidget
if(stringVal&&stringVal.match(rMarker)){// escaped by php
stringVal=stringVal.replace(rMarker,'');stringVal=stringVal.replace(rE,escE);}return stringVal;};Hogan.Template.prototype={// render: replaced by generated code.
r:function r(context,partials,indent){return'';},// variable escaping
v:hoganEscape,// triple stache
t:function tripleStache(val,id){return hoganWidgetEscape(val);},render:function render(context,partials,indent,skipXSSDetectionCleanup){if(typeof context==='undefined'){context={};}context.hoganEscape=hoganEscape;context.hoganWidgetEscape=hoganWidgetEscape;this.skipXSSDetectionCleanup=skipXSSDetectionCleanup;return this.ri([context],partials||{},indent);},// render internal -- a hook for overrides that catches partials too
ri:function ri(context,partials,indent){return this.r(context,partials,indent);},// tries to find a partial in the curent scope and render it
rp:function rp(name,context,partials,indent){var partial=partials[name];if(!partial){return'';}if(this.c&&typeof partial=='string'){partial=this.c.compile(partial,this.options,name);}return partial.ri(context,partials,indent);},// render a section
rs:function rs(context,partials,section){var tail=context[context.length-1];if(!isArray(tail)){section(context,partials,this);return;}for(var i=0;i<tail.length;i++){context.push(tail[i]);section(context,partials,this);context.pop();}},// maybe start a section
s:function s(val,ctx,partials,inverted,start,end,tags){var pass;if(isArray(val)&&val.length===0){return false;}if(typeof val=='function'){val=this.ls(val,ctx,partials,inverted,start,end,tags,[]);}else if(val&&(typeof val==='undefined'?'undefined':_typeof(val))==='object'&&val.val){val=this.ls(val.val,ctx,partials,inverted,start,end,tags,val.functionArgs);}pass=val===''||!!val;if(!inverted&&pass&&ctx){ctx.push((typeof val==='undefined'?'undefined':_typeof(val))=='object'?val:ctx[ctx.length-1]);}return pass;},// find values with dotted names
d:function d(key,ctx,partials,returnFound){var names=key.split('.'),val=this.f(names[0],ctx,partials,returnFound),cx=null;if(key==='.'&&isArray(ctx[ctx.length-2])){return ctx[ctx.length-1];}// hack for rendering . in result of higher order function
if(key==='.'&&isArray(ctx[0][ctx[0].length-2])){return ctx[0][ctx[0].length-1];}for(var i=1;i<names.length;i++){if(val&&(typeof val==='undefined'?'undefined':_typeof(val))=='object'&&names[i]in val){cx=val;val=val[names[i]];}else{val='';}}if(returnFound&&!val){return false;}if(!returnFound&&typeof val=='function'){ctx.push(cx);val=this.lv(val,ctx,partials);ctx.pop();}return val;},// find values with normal names
f:function f(key,ctx,partials,returnFound){var val=false,v=null,found=false,functionArgs;if(key.match(/\s/)){functionArgs=key.split(/\s/);key=functionArgs.shift();}for(var i=ctx.length-1;i>=0;i--){v=ctx[i];if(v&&(typeof v==='undefined'?'undefined':_typeof(v))=='object'&&key in v){val=v[key];found=true;break;}}if(!found){return returnFound?false:"";}if(typeof val=='function'){if(!returnFound){val=this.lv(val,ctx,partials,functionArgs);}else{return{val:val,functionArgs:functionArgs};}}return val;},// higher order templates
ho:function ho(val,cx,partials,text,innerTemplate,tags,ctx,functionArgs){var compiler=this.c;var options=this.options;var that=this;options.delimiters=tags;functionArgs=functionArgs||[];functionArgs.unshift(function(){that.bufBak.push(that.buf);that.buf='';// hack so that a higher order function usage without an empty context will still render its inner content
if(ctx[0]&&ctx[0].length===0){ctx[0].push({});}innerTemplate(ctx,options,text);var result=that.buf;that.buf=that.bufBak.pop();return result;});functionArgs.unshift(ctx);functionArgs.unshift(function(t,customCtx,skipXSSDetectionCleanup){if(skipXSSDetectionCleanup!==false){skipXSSDetectionCleanup=true;}return compiler.compile(t,options).render(customCtx?customCtx:cx,partials,undefined,skipXSSDetectionCleanup);});functionArgs.unshift(text);for(var prop in ctx[0]){if(ctx[0].hasOwnProperty(prop)&&typeof ctx[0][prop]==='function'){cx[prop]=ctx[0][prop];}}var t=val.apply(cx,functionArgs).toString();this.b(t);return false;},// template result buffering
b:function b(s){this.buf+=s;},// writing static template strings to buffer
stb:function stb(s){s=s.replace(rE,escE);this.buf+=s;},fl:function fl(){var buf=this.buf,msg;if(buf.replace(/<div id="[a-zA-Z0-9_]+" class="react-container"><\/div>/g,'').match(rE)){if(this.name&&this.name.match(/\.html$/)){if(typeof window!=='undefined'&&typeof XMLHttpRequest!=='undefined'){msg="PUVSIT "+this.name;msg+=' Found in: \n'+buf;var req=new XMLHttpRequest();req.open("post","go.Error.html");req.setRequestHeader("Content-Type","application/json");req.setRequestHeader("Accept","application/json");var c="Type=SecurityException&message="+encodeURIComponent(msg);c+="&Request="+encodeURIComponent(window.location.href);req.send(c);}if(typeof logV8Error==='function'){msg="Potentially unescaped value string in template "+this.name;msg+=' Found in: \n'+buf;logV8Error({message:msg,name:'SecurityException',stack:''},{File:this.name});}else if(typeof YRG!=='undefined'){msg="Potentially unescaped value string in template "+this.name;msg+=' Found in: \n'+buf;YRG.fire('exceptionTriggered',{message:msg,Type:'SecurityException',File:this.name});}}}if(!this.skipXSSDetectionCleanup){buf=buf.replace(reEscE,'a');}this.buf='';return buf;},// lambda replace section
ls:function ls(val,ctx,partials,inverted,start,end,tags,functionArgs){var cx=ctx[ctx.length-1],t;functionArgs=functionArgs||[];if(!inverted&&this.c&&val.length>0){return this.ho(val,cx,partials,this.text.substring(start,end),this['i_'+start+'_'+end],tags,ctx,functionArgs);}t=val.apply(cx,functionArgs);if(typeof t=='function'){if(inverted){return true;}else if(this.c){return this.ho(t,cx,partials,this.text.substring(start,end),this['i_'+start+'_'+end],tags,ctx,functionArgs);}}return t;},// lambda replace variable
lv:function lv(val,ctx,partials,functionArgs){var cx=ctx[ctx.length-1];var result=val.apply(cx,functionArgs);if(typeof result=='function'){result=result.apply(cx,functionArgs);}result=coerceToString(result);if(this.c&&~result.indexOf('{{')){return this.c.compile(result,this.options).render(cx,partials,undefined,true);}return result;}};function coerceToString(val){val=String(val===null||val===undefined?'':val);return val.replace('\u0000','');}function hoganEscape(str){str=coerceToString(str);return hChars.test(str)?str.replace(rAmp,'&amp;').replace(rLt,'&lt;').replace(rGt,'&gt;').replace(rApos,'&#39;').replace(rQuot,'&quot;').replace(rE,escE):str;}var isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==='[object Array]';};})(typeof exports!=='undefined'?exports:Hogan);(function(Hogan){// Setup regex  assignments
// remove whitespace according to Mustache spec
var rIsWhitespace=/\S/,rQuot=/"/g,rNewline=/\n/g,rCr=/\r/g,rSlash=/\\/g,tagTypes={'#':1,'^':2,'/':3,'!':4,'>':5,'<':6,'=':7,'_v':8,'{':9,'&':10},rLineSep=/\u2028/,rParagraphSep=/\u2029/;Hogan.scan=function scan(text,delimiters){var len=text?text.length:0,IN_TEXT=0,IN_TAG_TYPE=1,IN_TAG=2,state=IN_TEXT,tagType=null,tag=null,buf='',tokens=[],seenTag=false,i,lineStart=0,otag='{{',ctag='}}';function addBuf(){if(buf.length>0){tokens.push(String(buf));buf='';}}function lineIsWhitespace(){var isAllWhitespace=true;for(var j=lineStart;j<tokens.length;j++){isAllWhitespace=tokens[j].tag&&tagTypes[tokens[j].tag]<tagTypes._v||!tokens[j].tag&&tokens[j].match(rIsWhitespace)===null;if(!isAllWhitespace){return false;}}return isAllWhitespace;}function filterLine(haveSeenTag,noNewLine){addBuf();if(haveSeenTag&&lineIsWhitespace()){for(var j=lineStart,next;j<tokens.length;j++){if(!tokens[j].tag){if((next=tokens[j+1])&&next.tag=='>'){// set indent to token value
next.indent=tokens[j].toString();}tokens.splice(j,1);}}}else if(!noNewLine){tokens.push({tag:'\n'});}seenTag=false;lineStart=tokens.length;}function changeDelimiters(text,index){var close='='+ctag,closeIndex=text.indexOf(close,index),delimiters=trim(text.substring(text.indexOf('=',index)+1,closeIndex)).split(' ');otag=delimiters[0];ctag=delimiters[1];return closeIndex+close.length-1;}if(delimiters){delimiters=delimiters.split(' ');otag=delimiters[0];ctag=delimiters[1];}for(i=0;i<len;i++){if(state==IN_TEXT){if(tagChange(otag,text,i)){--i;addBuf();state=IN_TAG_TYPE;}else{if(text.charAt(i)=='\n'){filterLine(seenTag);}else{buf+=text.charAt(i);}}}else if(state==IN_TAG_TYPE){i+=otag.length-1;tag=tagTypes[text.charAt(i+1)];tagType=tag?text.charAt(i+1):'_v';if(tagType=='='){i=changeDelimiters(text,i);state=IN_TEXT;}else{if(tag){i++;}state=IN_TAG;}seenTag=i;}else{if(tagChange(ctag,text,i)){tokens.push({tag:tagType,n:trim(buf),otag:otag,ctag:ctag,i:tagType=='/'?seenTag-ctag.length:i+otag.length});buf='';i+=ctag.length-1;state=IN_TEXT;if(tagType=='{'){if(ctag=='}}'){i++;}else{cleanTripleStache(tokens[tokens.length-1]);}}}else{buf+=text.charAt(i);}}}filterLine(seenTag,true);return tokens;};function cleanTripleStache(token){if(token.n.substr(token.n.length-1)==='}'){token.n=token.n.substring(0,token.n.length-1);}}function trim(s){if(s.trim){return s.trim();}return s.replace(/^\s*|\s*$/g,'');}function tagChange(tag,text,index){if(text.charAt(index)!=tag.charAt(0)){return false;}for(var i=1,l=tag.length;i<l;i++){if(text.charAt(index+i)!=tag.charAt(i)){return false;}}return true;}function buildTree(tokens,kind,stack,customTags){var instructions=[],opener=null,token=null,functionArgs,openerName;while(tokens.length>0){token=tokens.shift();if(token.tag=='#'||token.tag=='^'||isOpener(token,customTags)){stack.push(token);token.nodes=buildTree(tokens,token.tag,stack,customTags);instructions.push(token);}else if(token.tag=='/'){if(stack.length===0){throw new Error('Closing tag without opener: /'+token.n);}opener=stack.pop();openerName=opener.n;if(openerName.match(/\s/)){functionArgs=openerName.split(/\s/);openerName=functionArgs.shift();}if(token.n!=openerName&&!isCloser(token.n,openerName,customTags)){throw new Error('Nesting error: '+openerName+' vs. '+token.n);}opener.end=token.i;return instructions;}else{instructions.push(token);}}if(stack.length>0){throw new Error('missing closing tag: '+stack.pop().n);}return instructions;}function isOpener(token,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].o==token.n){token.tag='#';return true;}}}function isCloser(close,open,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].c==close&&tags[i].o==open){return true;}}}function writeCode(tree,name){if(name){return'var _=this;_.name="'+name+'";_.b(i=i||"");'+walk(tree)+'return _.fl();';}return'var _=this;_.b(i=i||"");'+walk(tree)+'return _.fl();';}Hogan.generate=function(code,text,options){if(options.asString){return'function(c,p,i){'+code+';}';}return new Hogan.Template(new Function('c','p','i',code),text,Hogan,options);};function esc(s){return s.replace(rSlash,'\\\\').replace(rQuot,'\\\"').replace(rNewline,'\\n').replace(rCr,'\\r').replace(rLineSep,'\\u2028').replace(rParagraphSep,'\\u2029');}function chooseMethod(s){return~s.indexOf('.')?'d':'f';}function walk(tree){var code='';for(var i=0,l=tree.length;i<l;i++){var tag=tree[i].tag;if(tag=='#'){code+=section(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n),tree[i].i,tree[i].end,tree[i].otag+" "+tree[i].ctag);}else if(tag=='^'){code+=invertedSection(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n));}else if(tag=='<'||tag=='>'){code+=partial(tree[i]);}else if(tag=='{'||tag=='&'){code+=tripleStache(tree[i].n,chooseMethod(tree[i].n));}else if(tag=='\n'){code+=text('"\\n"'+(tree.length-1==i?'':' + i'));}else if(tag=='_v'){code+=variable(tree[i].n,chooseMethod(tree[i].n));}else if(tag===undefined){code+=text('"'+esc(tree[i])+'"');}}return code;}function section(nodes,id,method,start,end,tags){return'_.i_'+start+'_'+end+' = function () {'+'_.rs(c,p,'+'function(c,p,_){'+walk(nodes)+'});'+// 'c.pop();' +  //is this really needed? this breaks a valid test
'};'+'if(_.s(_.'+method+'("'+esc(id)+'",c,p,1),'+'c,p,0,'+start+','+end+',"'+tags+'")){'+'_.i_'+start+'_'+end+'.call(this);'+'c.pop();'+'}';}function invertedSection(nodes,id,method){return'if(!_.s(_.'+method+'("'+esc(id)+'",c,p,1),c,p,1,0,0,"")){'+walk(nodes)+'};';}function partial(tok){return'_.stb(_.rp("'+esc(tok.n)+'",c,p,"'+(tok.indent||'')+'"));';}function tripleStache(id,method){return'_.b(_.t(_.'+method+'("'+esc(id)+'",c,p,0), "'+esc(id)+'"));';}function variable(id,method){return'_.b(_.v(_.'+method+'("'+esc(id)+'",c,p,0)));';}function text(id){return'_.stb('+id+');';}Hogan.parse=function(tokens,text,options){options=options||{};return buildTree(tokens,'',[],options.sectionTags||[]);};Hogan.cache={};Hogan.compile=function(text,options,name){// options
//
// asString: false (default)
//
// sectionTags: [{o: '_foo', c: 'foo'}]
// An array of object with o and c fields that indicate names for custom
// section tags. The example above allows parsing of {{_foo}}{{/foo}}.
//
// delimiters: A string that overrides the default delimiters.
// Example: "<% %>"
//
options=options||{};var key=text+'||'+!!options.asString;var t=this.cache[key];if(t){return t;}t=this.generate(writeCode(this.parse(this.scan(text,options.delimiters),text,options),name),text,options);return this.cache[key]=t;};})(typeof exports!=='undefined'?exports:Hogan);
